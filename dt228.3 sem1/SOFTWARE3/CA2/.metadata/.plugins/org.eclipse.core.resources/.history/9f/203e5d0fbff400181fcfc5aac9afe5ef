package com.example.command;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.example.business.student;
import com.example.command.CheckStudentCommand;
import com.example.service.StudentService;
import com.example.service.libraryService;
import com.example.business.library;

public class BorrowCommand implements Command {
StudentService students = new StudentService();
libraryService librarys = new libraryService();
	@Override
	public String execute(HttpServletRequest request, HttpServletResponse repsonse){
		HttpSession session = request.getSession();
		String bookid = request.getParameter("borrowId");
		String forwardToJsp = "";		
		student info = (student) session.getAttribute("student");
		 
		String studentId = info.getId();
		String studentName = info.getStudentName();
		
		students.goBorrow(studentId);
        librarys.Borrowbook(studentName, studentId);
		forwardToJsp = "/library.jsp";
		
		return forwardToJsp;
	}

}
